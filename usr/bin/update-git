#!/bin/bash

source ctos-functions

clear
cd "$PWD"
lineBreak="<~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~>"
echo "Updating the current repo and pushing it to GitHub."
echo $lineBreak
if !( git add . ); then
    echo "Something went wrong while trying to add files."
    echo "Make sure you are in the right directory."
    echo "Your current working directory is: $PWD"
    something_wrong
else
    echo "Changes successfully added."
    echo $lineBreak
    echo "Please please type your notes for this commit and press enter when done."
    read theCommit
    if !( git commit -m "$theCommit" ); then
        echo "I am unable to commit the changes."
        something_wrong
    else
        echo $lineBreak
        echo "Changes commited successfully."
        echo "Please enter your password."
        if !(git push); then
            echo "Unable to push changes to the Git repo."
            something_wrong
        else
            echo $lineBreak
            echo "All done. Git repo successfully updated."
            echo $lineBreak
        fi
    fi
fi
say_goodbye
exit 0
